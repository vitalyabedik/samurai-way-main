/*! For license information please see 962.da050f7d.chunk.js.LICENSE.txt */
(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[962],{6962:function(n,r,t){"use strict";t.r(r),t.d(r,{default:function(){return M}});var e=t(5671),o=t(3144),s=t(136),a=t(5716),i=t(2791),u=t(7781),c=t(364),l=t(4930),f="Users_wrapper__OT2RO",p="Users_root__tKscV",d="Users_container__fRWCf",h="Users_title__3iMuQ",g="Users_users__VlBFm",v=t(4942),_=t(885),m=t(1694),w=t.n(m),y="Pagination_pagination__U8zOJ",x="Pagination_pageNumber__DPNpC",P="Pagination_button__FpH3j",C="Pagination_selectedPage__OzWfA",j=t(184),U=function(n){for(var r=n.currentPage,t=n.pageSize,e=n.totalItemsCount,o=n.portionSize,s=void 0===o?10:o,a=n.onPageChanged,u=Math.ceil(e/t),c=[],l=1;l<=u;l++)c.push(l);var f=Math.ceil(u/s),p=(0,i.useState)(1),d=(0,_.Z)(p,2),h=d[0],g=d[1],m=(h-1)*s+1,U=h*s;return(0,j.jsxs)("div",{className:y,children:[h>1&&(0,j.jsx)("button",{className:P,onClick:function(){g(h-1)},children:"PREV"}),c.filter((function(n){return n>=m&&n<=U})).map((function(n,t){return(0,j.jsx)("span",{className:w()((0,v.Z)({},C,r===n),x),onClick:function(){a(n)},children:n},t)})),f>h&&(0,j.jsx)("button",{className:P,onClick:function(){g(h+1)},children:"NEXT"})]})},b=t(1523),N="User_container__4L+kB",S="User_root__JUyZV",F="User_userPhoto__1J8oD",Z="User_name__WlD78",k="User_status__R27D+",I="User_buttonFollow__LlF-J",z="User_buttonUnfollow__sjbXd",R=t(1813),L=function(n){var r=n.user,t=n.followingInProgress,e=n.follow,o=n.unFollow,s=t.some((function(n){return n===r.id}));return console.log(r),(0,j.jsx)("div",{className:N,children:(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)(b.OL,{to:"/profile/".concat(r.id),children:(0,j.jsx)("img",{className:F,src:r.photos.small?r.photos.small:R,alt:"user-image"})}),(0,j.jsx)("div",{className:Z,children:r.name}),(0,j.jsx)("div",{className:k,children:r.status?r.status:"No status"}),r.followed?(0,j.jsx)("button",{className:z,disabled:s,onClick:function(){var n;n=r.id,o(n)},children:"Unfollowing"}):(0,j.jsx)("button",{className:I,disabled:s,onClick:function(){var n;n=r.id,e(n)},children:"Following"})]})})},A=function(n){var r=n.users,t=n.currentPage,e=n.pageSize,o=n.totalUsersCount,s=n.followingInProgress,a=n.follow,i=n.unFollow,u=n.onPageChanged;return(0,j.jsx)("div",{className:f,children:(0,j.jsx)("div",{className:p,children:(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("h2",{className:h,children:"Users"}),(0,j.jsx)("div",{className:g,children:r.map((function(n){return(0,j.jsx)(L,{user:n,followingInProgress:s,follow:a,unFollow:i},n.id)}))}),(0,j.jsx)(U,{currentPage:t,pageSize:e,totalItemsCount:o,onPageChanged:u})]})})})},J=t(9464),O=t(3449),D=t(1573),E=function(n){(0,s.Z)(t,n);var r=(0,a.Z)(t);function t(){var n;(0,e.Z)(this,t);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(n=r.call.apply(r,[this].concat(s))).onPageChanged=function(r){var t=n.props,e=t.pageSize;(0,t.changePage)(r,e)},n}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var n=this.props,r=n.currentPage,t=n.pageSize;(0,n.getUsers)(r,t)}},{key:"render",value:function(){return(0,j.jsx)(j.Fragment,{children:this.props.isLoading?(0,j.jsx)(J.p,{}):(0,j.jsx)(A,{users:this.props.users,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,follow:this.props.follow,unFollow:this.props.unFollow,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress})})}}]),t}(i.Component),M=(0,u.qC)((0,c.$j)((function(n){return{users:(0,D.Rf)(n),pageSize:(0,D.b7)(n),totalUsersCount:(0,D.qZ)(n),currentPage:(0,D.FZ)(n),isLoading:(0,D.Vc)(n),followingInProgress:(0,D.yg)(n)}}),{setUsers:l.fv,setCurrentPage:l.Io,getUsers:O.Zw,follow:O.iR,unFollow:O.NK,changePage:O.FL}))(E)},4930:function(n,r,t){"use strict";t.d(r,{mG:function(){return o},RX:function(){return s},fv:function(){return a},Io:function(){return i},NC:function(){return u},SS:function(){return c},tJ:function(){return l}});var e=t(1304),o=function(n){return{type:e.Gd,payload:{userId:n}}},s=function(n){return{type:e.E$,payload:{userId:n}}},a=function(n){return{type:e.d0,payload:{users:n}}},i=function(n){return{type:e.Nc,payload:{currentPage:n}}},u=function(n){return{type:e.MZ,payload:{totalUsersCount:n}}},c=function(n){return{type:e.oF,payload:{isLoading:n}}},l=function(n,r){return{type:e.jw,payload:{userId:n,isFetching:r}}}},3449:function(n,r,t){"use strict";t.d(r,{FL:function(){return f},iR:function(){return p},Zw:function(){return l},NK:function(){return d}});var e=t(5861),o=t(7757),s=t.n(o),a=t(7174),i=t(4930),u=t(6460),c=function(){var n=(0,e.Z)(s().mark((function n(r,t,e,o){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o((0,i.tJ)(r,!0)),n.next=3,e(r);case 3:n.sent.resultCode===u.A.SUCCESS&&o(t(r)),o((0,i.tJ)(r,!1));case 6:case"end":return n.stop()}}),n)})));return function(r,t,e,o){return n.apply(this,arguments)}}(),l=function(n,r,t){return function(){var o=(0,e.Z)(s().mark((function e(o){var u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((0,i.SS)(!0)),e.next=3,a.h3.getUsers(n,r,t);case 3:u=e.sent,o((0,i.SS)(!1)),o((0,i.fv)(u.items)),o((0,i.NC)(u.totalCount));case 7:case"end":return e.stop()}}),e)})));return function(n){return o.apply(this,arguments)}}()},f=function(n,r){return function(t){t((0,i.Io)(n)),t(l(n,r,void 0))}},p=function(n){return function(){var r=(0,e.Z)(s().mark((function r(t){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c(n,i.mG,a.h3.follow.bind(a.h3),t);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},d=function(n){return function(){var r=(0,e.Z)(s().mark((function r(t){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c(n,i.RX,a.h3.unFollow.bind(a.h3),t);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}},1694:function(n,r){var t;!function(){"use strict";var e={}.hasOwnProperty;function o(){for(var n=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var s=typeof t;if("string"===s||"number"===s)n.push(t);else if(Array.isArray(t)){if(t.length){var a=o.apply(null,t);a&&n.push(a)}}else if("object"===s)if(t.toString===Object.prototype.toString)for(var i in t)e.call(t,i)&&t[i]&&n.push(i);else n.push(t.toString())}}return n.join(" ")}n.exports?(o.default=o,n.exports=o):void 0===(t=function(){return o}.apply(r,[]))||(n.exports=t)}()},885:function(n,r,t){"use strict";t.d(r,{Z:function(){return o}});var e=t(181);function o(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,o,s=[],a=!0,i=!1;try{for(t=t.call(n);!(a=(e=t.next()).done)&&(s.push(e.value),!r||s.length!==r);a=!0);}catch(u){i=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return s}}(n,r)||(0,e.Z)(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=962.da050f7d.chunk.js.map